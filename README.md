# 秒杀商城实现
### 开发工具 
##### IDEA2018
### 开发环境
| JDK | 1.8 | MySQL | 5.7.14 | Redis | 3.0 | Maven | 3.6.1 |
| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
### 项目启动
登陆地址 http://localhost:8888/user/login  
配置数据库 resources/db.properties中数据库配置信息

### 项目分析
1.项目的并发会出现在获取热点商品详情页上，因为用户会不断的刷新页面在秒杀快开始的时候查看商品详情信息  
2.在用户进行秒杀商品的时候，要保证事务减库存和添加购买明细的信息准确  
3.并发的加载页面会导致服务器带宽压力大  
4.在秒杀开启时会有大量的购买请求  
### 应对方式
1.我们将商品的详情页信息放到Redis中做缓存，Java访问Redis的客户端，goodsId设置Redis键，秒杀的对象设置为Redis值，用Google的Protostaff实现内部序列化，这样的好处就是比Java原生的序列化性能更高，大概使用的空间小了10倍，缓存中可以放更多的信息，速度也更快了  
2.将减库存和增加购买信息用事务实现  
3.详情页静态化放到CDN中，这样用户在访问该页面时就不需要访问的服务器了，起到了降低服务器压力的作用  
4.将insert和update操作放在MySQL端执行存储过程。这样更好的解决网络延迟导致的锁的持有时间增加从而造成性能低的问题，将事务写入存储过程中交于MySQL来完成  
### 页面效果
##### 登陆界面
![avatar](/img/login.png)
##### 注册界面
![avatar](/img/regist.png)
##### 首页
![avatar](/img/index.png)
##### 秒杀商品详情页
![avatar](/img/detail.png)
##### 购买信息
![avatar](/img/cart.png)
